<?xml version="1.0" encoding="UTF-8" ?>
<dispatchRules>
	<!-- 1个流程对应一个<flow> 1个<flow>内： @<flowConfigName>：1 @<dataLoadBeanName>：1 
		@<directions>：0至1个 @<steps>：1至n个 1个<steps>内： @<stepName>：1至n个 系统定义名称： @default 
		默认步骤; @launch 发起步骤 @<beanName>：1个 @<exceptionForward>:0至1个 @<event>:0至n个 
		1个<event> @<type>类型 |before 调用流程处理动作前事件|after 调用流程处理动作后事件|exception 发生异常时 
		|onOpenForm 打开表单时的事件 | onSelectParticipants 选人时事件 |dispatchCheck 业务上检测是否做流程处理事件 
		|onDataMigration 数据迁移时调用的事件 @<condition> 条件,只支持 before和after类型 @<eventBeanName>处理事件的事件bean名称 
		@<forward>：1至n个 1个<forward>内： @<dealType>：1至n个 @<forwardKey>：1个 -->
	<flow>
		<flowConfigName>出借人信息变更</flowConfigName>
		<initBeanName>init_cf_lenderChange_applyForm</initBeanName>
		<dataLoadBeanName>load_cf_lenderChenge</dataLoadBeanName>
		<steps>
			<stepName>@launch</stepName>
			  <updateAttributes>customerName;applyId;customerCode;custCertNum;financing;managerId;teamManager;province;city;department;applyDate;team;customerSource;trusteeshipNo</updateAttributes>
			<stepName>发起人</stepName>
			<stepName>已结束流程</stepName>
			<event>
				<type>before</type>
				<eventBeanName>ex_cf_lenderChange_launch</eventBeanName>
			</event>
			<forward>
				<forwardKey>/lenderChange/lenderChange_launch</forwardKey>
			</forward>
			<directions>发起默认跳转</directions>
		</steps>
		<steps>
			<stepName>门店经理初审</stepName>
			<event>
				<type>before</type>
				<eventBeanName>ex_cf_lenderChange_approve</eventBeanName>
			</event>
			<forward>
				<dealType>0</dealType>
				<forwardKey>/lenderChange/lenderChange__approve_0</forwardKey>
			</forward>
			<directions>门店经理初审办理页面</directions>
		</steps>
		<steps>
			<stepName>业务对接专员复审</stepName>
			<updateAttributes>customerName;customerCode;changerTypeName;changerTypeVal;accountAddrProvince;accountAddrCity;accountNo;accountName;accountBranch;accountBankId;changerState;accountAddrDistrict</updateAttributes>
			<event>
				<type>before</type>
				<eventBeanName>ex_cf_lenderChange_approve_review</eventBeanName>
			</event>
			<forward>
				<dealType>0</dealType>
				<forwardKey>/lenderChange/lenderChange__approve_1</forwardKey>
			</forward>
			<directions>业务对接专员复审</directions>
		</steps>
		<steps>
			<stepName>数据管理部金账户审核</stepName>
			<event>
				<type>before</type>
				<eventBeanName>ex_cf_trusteeshipChange_approve</eventBeanName>
			</event>
			<forward>
				<dealType>0</dealType>
				<forwardKey></forwardKey>
			</forward>
			<directions>数据管理部金账户审核</directions>
		</steps>
		<steps>
			<stepName>@default</stepName>
			<event>
				<type>before</type>
			</event>
			<forward>
				<dealType>1</dealType>
				<forwardKey>/lenderChange/lenderChange_readonly_1</forwardKey>
			</forward>
			<directions>已办页面</directions>
		</steps>
		<steps>
			<stepName>申请人</stepName>
			<event>
				<type>before</type>
				<eventBeanName>ex_cf_lenderChange_backlaunch</eventBeanName>
			</event>
			<forward>
				<dealType>0</dealType>
				<forwardKey>/lenderChange/lenderChangeBackForm</forwardKey>
			</forward>
			<directions>申请人重新申请页面</directions>
		</steps>
		<!-- <steps> <stepName>@default</stepName> <event> <type>before</type> 
			<eventBeanName>Event_mail_control_PO</eventBeanName> </event> <event> <type>before</type> 
			<condition>response='TO_End'</condition> <eventBeanName>Event_SAP_U1</eventBeanName> 
			</event> <forward> <dealType>0</dealType> <forwardKey>WF_PONB_Approve_0</forwardKey> 
			</forward> <directions>审批默认跳转</directions> </steps> <steps> <stepName>@default</stepName> 
			<forward> <dealType>1</dealType> <forwardKey>WF_PONB_Reaadonly_1</forwardKey> 
			</forward> <directions>已结束</directions> </steps> <steps> <stepName>@default</stepName> 
			<event> <type>onOpenForm</type> <condition></condition> <eventBeanName>evetTest</eventBeanName> 
			</event> <forward> <forwardKey>/myApply/lenderChange/lenderApple</forwardKey> 
			</forward> <directions>已结束</directions> </steps> <steps> <stepName>重新发起</stepName> 
			<event> <type>before</type> <eventBeanName>Event_mail_control_PO</eventBeanName> 
			</event> <event> <type>before</type> <eventBeanName>Event_SAP_L</eventBeanName> 
			</event> <forward> <dealType>0</dealType> <forwardKey>WF_PONB_Relaunch_0</forwardKey> 
			</forward> <directions>重新发起跳转</directions> </steps> -->
	</flow>
	<flow>
	    <flowConfigName>出借申请信息变更</flowConfigName>
		<initBeanName>init_cf_lendChange_applyForm</initBeanName>
		<dataLoadBeanName>load_cf_lendChenge</dataLoadBeanName>
		<steps>
		  <stepName>@launch</stepName>
		  <updateAttributes>customerName;applyId;customerCode;custCertNum;financing;managerId;teamManager;province;city;department;applyHostedState;applyDate;customerSource;dictCustomerStatus;lendCode;applyState;createDate;team;custMobilephone;changerState;trusteeshipNo;billDay;productName;applyPay;productCode</updateAttributes>
		  <stepName>发起人</stepName>
		  <stepName>已结束流程</stepName>
		  <event>
		   <type>before</type>
		   <eventBeanName>ex_cf_lendChange_launch</eventBeanName>
		  </event>
		 <forward>
		  <forwardKey>/lendChange/lendChangeLaunch</forwardKey>
		 </forward>
		 <directions>发起默认跳转</directions>
		</steps>
		<steps>
			<stepName>门店经理初审</stepName>
			<event>
				<type>before</type>
				<eventBeanName>ex_cf_lendChange_approve_first</eventBeanName>
			</event>
			<forward>
				<dealType>0</dealType>
				<forwardKey>/lendChange/lendChangeApprove0</forwardKey>
			</forward>
			<directions>门店经理初审办理页面</directions>
		</steps>
		<steps>
			<stepName>业务对接专员复审</stepName>
			<updateAttributes>customerName;customerCode;changerTypeName;changerTypeVal;accountAddrProvince;accountAddrCity;accountNo;accountName;accountBranch;accountBankId;changerState;accountAddrDistrict</updateAttributes>
			<event>
				<type>before</type>
				<eventBeanName>ex_cf_lendChange_approve_review</eventBeanName>
			</event>
			<forward>
				<dealType>0</dealType>
				<forwardKey>/lendChange/lendChangeApprove1</forwardKey>
			</forward>
			<directions>业务对接员复审办理页面</directions>
		</steps>
		<steps>
			<stepName>数据管理部金账户审核</stepName>
			<event>
				<type>before</type>
				<eventBeanName>ex_cf_trusteeshipChange_approve</eventBeanName>
			</event>
			<forward>
				<dealType>0</dealType>
				<forwardKey></forwardKey>
			</forward>
			<directions>数据管理部金账户审核</directions>
		</steps>
		<steps>
			<stepName>@default</stepName>
			<event>
				<type>before</type>
			</event>
			<forward>
				<dealType>1</dealType>
				<forwardKey>/lendChange/lendChangeReadonly1</forwardKey>
			</forward>
			<directions>已办页面</directions>
		</steps>
		<steps>
			<stepName>申请人</stepName>
			<event>
				<type>before</type>
				<eventBeanName>ex_cf_lendChange_backlaunch</eventBeanName>
			</event>
			<forward>
				<dealType>0</dealType>
				<forwardKey>/lendChange/lendChangeBackForm</forwardKey>
			</forward>
			<directions>申请人重新申请页面</directions>
		</steps>
	</flow>
	<flow>
	<flowConfigName>抢单流程</flowConfigName>
		<initBeanName>init_cf_customertransfer_applyForm</initBeanName>
		<dataLoadBeanName>load_cf_customertransfer</dataLoadBeanName>
		<steps>
		  <stepName>@launch</stepName>
		  <updateAttributes>customerCode;customerName;financing;managerCode;managerCodeNew;managerName;managerNameNew;departmentNew;department;transferState;createDate;applyId;branchCompanyId;districtCompanyId</updateAttributes>
		  <stepName>发起人</stepName>
		  <stepName>已结束流程</stepName>
		  <event>
		   <type>before</type>
		   <eventBeanName>ex_cf_customertransfer_launch</eventBeanName>
		  </event>
		 <forward>
		  <forwardKey>/donation/customerTransferLaunch</forwardKey>
		 </forward>
		 <directions>发起默认跳转</directions>
		</steps>
		<steps>
			<stepName>营业部经理审批</stepName>
			<event>
				<type>before</type>
				<eventBeanName>ex_cf_CustomerTransfer_approve_first</eventBeanName>
			</event>
			<forward>
				<dealType>0</dealType>
				<forwardKey>/donation/customerTransferApprove0</forwardKey>
			</forward>
			<directions>营业部经理初审办理页面</directions>
		</steps>
		<steps>
			<stepName>支公司经理审批</stepName>
			<event>
				<type>before</type>
				<eventBeanName>ex_cf_CustomerTransfer_approve_review</eventBeanName>
			</event>
			<forward>
				<dealType>0</dealType>
				<forwardKey>/donation/customerTransferApprove1</forwardKey>
			</forward>
			<directions>支公司经理复审办理页面</directions>
		</steps>
	</flow>
	
	<flow>
	  	<flowConfigName>提前赎回</flowConfigName>
	  	<initBeanName>init_cf_redemptionFlow</initBeanName>
	  	<dataLoadBeanName>load_cf_redemptionFlow</dataLoadBeanName>
	  	<steps>
	  		<stepName>@launch</stepName>
	  			<updateAttributes>customerCode;customerName;applyCode;applyId;department;province;city;applyLendDate;applyPay;applyLendMoney;applyBillday;productName;applyDeductType;backMoneyDay;</updateAttributes>
	  		<stepName>发起人</stepName>
	  		<stepName>发起流程</stepName>
	  		<event>
	  			<type>before</type>
	  			<eventBeanName>ex_cf_redemptionFlow_launch</eventBeanName>
	  		</event>
	  		<forward>
	  			<forwardKey>/redemption/apply/redemptionLaunch</forwardKey>
	  		</forward>
	  	</steps>
	  	<steps>
	  		<stepName>审批</stepName>
	  		<event>
	  			<type>before</type>
	  			<eventBeanName>ex_cf_redemptionFlow_approval</eventBeanName>
	  		</event>
	  		<forward>
	  			<dealType>0</dealType>
	  			<forwardKey>/redemption/approval/redemptionApproval0</forwardKey>
	  		</forward>
	  	</steps>
	  	<steps>
	  		<stepName>申请人</stepName>
	  		<event>
	  			<type>before</type>
	  			<eventBeanName>ex_cf_redemptionFlow_relaunch</eventBeanName>
	  		</event>
	  		<forward>
	  			<dealType>0</dealType>
	  			<forwardKey>/redemption/reapply/redemptionBack0</forwardKey>
	  		</forward>
	  	</steps>
	</flow>
	
	<flow>
	  	  <flowConfigName>出借申请流程</flowConfigName>
		  <initBeanName>init_cf_lendApply_applyForm</initBeanName>
		  <dataLoadBeanName>load_cf_lendApplyApproval</dataLoadBeanName>
		  <steps>
				<stepName>@launch</stepName>
				<updateAttributes>applyId;customerCode;customerName;applyCode;department;lendProduct;lendDate;lendMoney;payState;deductType;province;city;deductDate;department;deductBank;managerCode</updateAttributes>
				<event>
					<type>before</type>
					<eventBeanName>ex_cf_lendApply_launch</eventBeanName>
				</event>
				<forward>
					<forwardKey>/lend/apply/lendApply_launch</forwardKey>
				</forward>
				<directions>出借申请页面</directions>
		  </steps>
		  <steps>
				<stepName>合同审批</stepName>
				<updateAttributes>auditor</updateAttributes>
				<event>
					<type>before</type>					
					<eventBeanName>ex_cf_lendApply_approve</eventBeanName>
				</event>
				<forward>
					<dealType>0</dealType>
					<forwardKey>/lend/approve/lendApply_approval</forwardKey>
				</forward>
				<directions>合同审批页面</directions>
		  </steps>
		  <steps>
			<stepName>申请人</stepName>
			<updateAttributes>applyId;lendProduct;lendDate;lendMoney;payState;deductType;applyCode</updateAttributes>
			<event>
				<type>before</type>
				<eventBeanName>ex_cf_lendApply_ReLaunch</eventBeanName>
			</event>
			<forward>
				<dealType>0</dealType>
				<forwardKey>/lend/reject/lendApply_relaunch</forwardKey>
			</forward>
			<directions>出借驳回，重新发起出借</directions>
		  </steps>
		  <steps>
			<stepName>@default</stepName>
			<event>
				<type>before</type>
			</event>
			<forward>
				<dealType>1</dealType>
				<forwardKey>/lend/finish/lendApply_detail</forwardKey>
			</forward>
			<forward>
				<dealType>2</dealType>
				<forwardKey>/lend/finish/lendApply_edit</forwardKey>
			</forward>
			<forward>
				<dealType>3</dealType>
				<forwardKey>/lend/finish/lendApply_upfile</forwardKey>
			</forward>
			<directions>申请已办页面</directions>
		</steps>
	</flow>
<flowAttributeMap>
 <flows>
   
      <flow name="出借人信息变更">
        <map>customerName:bv.customer.custName</map>
        <map>customerCode:bv.customer.custCode</map>
        <map>financing:bv.customer.managerName</map>
        <map>managerId:bv.customer.managerId</map>
        <map>teamManager:bv.customer.teamManagerName</map>
        <map>province:bv.customer.addrProvince</map>
        <map>city:bv.customer.addrCity</map>
        <map>department:bv.customer.departmentName</map>
        <map>applyId:bv.applyId</map>
        <map>applyDate:bv.applyDate</map>
        <map>team:bv.customer.teamName</map>
        <map>customerSource:bv.customer.dictCustSource</map>
        <map>custCertNum:bv.customer.custCertNum</map>
        <map>changerTypeName:bv.customer.changerTypeName</map>
        <map>changerTypeVal:bv.customer.changerTypeVal</map>
        <map>changerState:bv.customer.changerState</map>
        <map>accountBankId:bv.account.accountBankId</map>
        <map>accountBranch:bv.account.accountBranch</map>
        <map>accountName:bv.account.accountName</map>
        <map>accountNo:bv.account.accountNo</map>
        <map>accountAddrCity:bv.account.accountAddrCity</map>
        <map>accountAddrProvince:bv.account.accountAddrProvince</map>
        <map>accountAddrDistrict:bv.account.accountAddrDistrict</map>
        <map>trusteeshipNo:bv.customer.trusteeshipNo</map>
      </flow>
       <flow name="出借申请信息变更">
         <map>customerCode:bv.lendloanapply.custCode</map>
         <map>customerName:bv.lendloanapply.custName</map>
         <map>financing:bv.lendloanapply.managerName</map>
         <map>managerId:bv.lendloanapply.managerId</map>
         <map>teamManager:bv.lendloanapply.teamManagerName</map>
         <map>team:bv.lendloanapply.teamName</map>
         <map>province:bv.lendloanapply.addrProvince</map>
         <map>city:bv.lendloanapply.addrCity</map>
         <map>department:bv.lendloanapply.departmentName</map>
         <map>applyHostedState:bv.lendloanapply.applyHostedState</map>
         <map>customerSource:bv.lendloanapply.dictCustSource</map>
         <map>dictCustomerStatus:bv.lendloanapply.custState</map>
         <map>applyId:bv.applyId</map>
         <map>applyDate:bv.applyDate</map>
         <map>lendCode:bv.lendloanapply.applyCode</map>
         <map>applyState:bv.lendloanapply.applyState</map>
         <map>createDate:bv.lendloanapply.createTime</map>
         <map>custMobilephone:bv.lendloanapply.custMobilephone</map>
         <map>custCertNum:bv.lendloanapply.custCertNum</map>
         <map>changerTypeName:bv.lendloanapply.changerTypeName</map>
         <map>changerTypeVal:bv.lendloanapply.changerTypeVal</map>
         <map>changerTypeName:bv.lendloanapply.changerTypeName</map>
         <map>changerState:bv.lendloanapply.changerState</map>
	     <map>accountBankId:bv.payAccount.accountBankId</map>
	     <map>accountBranch:bv.payAccount.accountBranch</map>
	     <map>accountName:bv.payAccount.accountName</map>
	     <map>accountNo:bv.payAccount.accountNo</map>
	     <map>accountAddrCity:bv.payAccount.accountAddrCity</map>
	     <map>accountAddrProvince:bv.payAccount.accountAddrProvince</map>
	     <map>accountAddrDistrict:bv.payAccount.accountAddrDistrict</map>
	     <map>trusteeshipNo:bv.lendloanapply.trusteeshipNo</map>
	     <map>billDay:bv.lendloanapply.billDay</map>
	     <map>productName:bv.lendloanapply.productName</map>
	     <map>applyPay:bv.lendloanapply.applyPayCode</map>
	     <map>productCode:bv.lendloanapply.productCode</map>
       </flow>
       <flow name="抢单流程">
         <map>customerCode:bv.CTManagerinfo.custCode</map>
         <map>customerName:bv.CTManagerinfo.custName</map>
         <map>financing:bv.CTManagerinfo.managerId</map>
         <map>managerCode:bv.CTManagerinfo.managerCode</map>
         <map>managerCodeNew:bv.CTManagerinfo.managerCodeNew</map>
         <map>managerName:bv.CTManagerinfo.managerName</map>
         <map>managerNameNew:bv.CTManagerinfo.managerNameNew</map>
         <map>departmentNew:bv.CTManagerinfo.departmentId</map>
         <map>department:bv.CTManagerinfo.olddepartmentId</map>
         <map>transferState:bv.CTManagerinfo.TransferState</map>
         <map>createDate:bv.applyDate</map>
         <map>applyId:bv.applyId</map>
         <map>branchCompanyId:bv.CTManagerinfo.branchCompanyId</map>
         <map>districtCompanyId:bv.CTManagerinfo.districtCompanyId</map>
       </flow>
      
      <flow name="提前赎回">
      	<map>customerCode:bv.customerCode</map>
      	<map>customerName:bv.customerName</map>
      	<map>applyCode:bv.lendCode</map>
        <map>applyId:bv.applyId</map>
      	<map>department:bv.orgID</map>
      	<map>province:bv.province</map>
      	<map>city:bv.city</map>
      	<map>applyLendDate:bv.applyLendDay</map>
      	<map>applyPay:bv.applyPay</map>
      	<map>applyLendMoney:bv.applyLendMoney</map>
      	<map>applyBillday:bv.applyBillday</map>
      	<map>productName:bv.productCode</map>
      	<map>applyDeductType:bv.dictApplyDeductType</map>
      	<map>backMoneyDay:bv.backMoneyDayOfLend</map>
      	
      </flow>
       <flow name="出借申请流程">
       	 <map>customerName:bv.customer.custName</map>
       	 <map>customerCode:bv.customer.custCode</map>
       	 <map>applyCode:bv.lendApply.applyCode</map>
       	 <map>department:bv.storeName</map>
       	 <map>lendProduct:bv.lendApply.productCode</map>
       	 <map>lendDate:bv.lendApply.lendDate</map>
       	 <map>lendMoney:bv.lendMoney</map>
       	 <map>deductType:bv.lendApply.deductTypeId</map>
       	 <map>payState:bv.lendApply.payType</map>
       	 <map>province:bv.province</map>
       	 <map>city:bv.city</map>
       	 <map>applyId:bv.applyId</map>
       	 <map>deductDate:bv.lendApply.deductDate</map>
       	 <map>department:bv.lendApply.storeOrgId</map>
       	 <map>deductBank:bv.deductBank</map>
       	 <map>managerCode:bv.financialManager</map>
       	 <map>auditor:bv.auditor</map>
       </flow>
    </flows>
    </flowAttributeMap>
</dispatchRules>

